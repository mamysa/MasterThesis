\section{\ReadFromStdinAndApplyReductionRelationNoArgs \space Form.}

Let $tl$ =\ReadFromStdinAndApplyReductionRelation. If $mf$ is present, let $f_{mf}$ be previously generated Python function for metafunction with name $mf$. Let $f_{red}$ be previously generated Python function for \RedexMatchAssertEqualNoArgs \space with name $red$. 

\begin{enumerate}
\item Call \texttt{read\_from\_stdin\_and\_parse} function to obtain initial term $t$.
\item Apply $f_{mf}$ to $t$ (if applicable) and store in the list $ts$.
\item Apply $f_{red}$ to all terms $t_i$ in $ts$ and store results in list $ts^{\prime}$.
\item Let $ts$ = $ts^{\prime}$ and repeat previous step until $ts$ is empty.
\end{enumerate}

\begin{figure}
\begin{minted}[tabsize=2,obeytabs,escapeinside=||,mathescape=true,fontsize=\normalsize]{python}
{% def codegenReadFromStdinAndApplyReductionRelation(t): %}
	{% |$f_{tl}$| =  symgen("readfromstdinandeval") %}
	{% |$f_{mf}$| =  get_metafunction(|$mf$|) %}
	{% |$f_{red}$| =  get_reduction_relation(|$red$|) %}
def |$f_{tl}$|():
	|$t$| = read_from_stdin_and_parse()
	{% if |$f_{mf}$| != None: %}
	|$t$| = |$f_{mf}$|(|$t$|)
	{% endif %}
    |$ts$| = [|$t$|]
    while len(|$ts$|) != 0:
        |$ts^{\prime}$| = []
        for term in $ts$:
            terms = |$f_{red}$|(term)
            |$ts^{\prime}$|= |$ts^{\prime}$| + terms 
        |$ts$| = |$ts^{\prime}$|
{% enddef %}
\end{minted}
\caption{Code-generation for \ReadFromStdinAndApplyReductionRelationNoArgs form.}
\label{codegen-repl}
\end{figure}
